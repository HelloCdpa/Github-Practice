## 브랜치

여러 개발자들이 동시에 다양한 작업을 할 수 있게 만들어 주는 기능이 바로 '브랜치(Branch)'  
각자 독립적인 작업 영역(저장소) 안에서 마음대로 소스코드를 변경할 수 있다.  
이렇게 분리된 작업 영역에서 변경된 내용은 나중에 원래의 버전과 비교해서 하나의 새로운 버전으로 만들어 낼 수 있다.  


### master 브랜치
저장소를 처음 만들면, Git은 바로 'master'라는 이름의 브랜치를 만들어 둔다.  
이 새로운 저장소에 새로운 파일을 추가 한다거나 추가한 파일의 내용을 변경하여 그 내용을 저장(커밋, Commit)하는 것은  
모두 'master' 라는 이름의 브랜치를 통해 처리할 수 있는 일이 된다.    

'master'가 아닌 또 다른 새로운 브랜치를 만들어서 '이제부터 이 브랜치를 사용할거야!'라고 선언(체크아웃, checkout)하지 않는 이상,  
이 때의 모든 작업은 'master' 브랜치에서 이루어 진다.  

### 브랜치 만들기
Git 에서는 작업에 따라 자유롭게 브랜치를 만들 수 있다.  
그러나 이것을 효과적으로 관리하려면, 먼저 함께 작업할 팀원들과 어떠한 방식으로 브랜치를 만들고 통합할 것인지 미리 정해두는 것이 좋다.     
예를 들어 새로운 브랜치를 만들 때에 브랜치 이름은 어떤 규칙으로 지을 것인지 또는 어떤 상황에서 브랜치를 만들 지, 어느 시점에 통합할 것인지 등등 규칙은 정하기 나름  

### 통합 브랜치(Integration Branch)
통합 브랜치란 언제든지 배포할 수 있는 버전을 만들 수 있어야 하는 브랜치.   
그렇기 때문에 늘 안정적인 상태를 유지하는 것이 중요하다.  
여기서 '안정적인 상태'란 현재 작업 중인 소스코드가 모바일에서 동작하는 어플리케이션을 개발하기 위한 것이라면,  
'그 어플리케이션의 모든 기능이 정상적으로 동작하는 상태'를 의미.

만약 이 어플리케이션에 어떤 문제가 발견되어 그 문제(버그)를 수정한다던지 새로운 기능을 추가해야 한다던지 해야할 때,  
바로 '토픽 브랜치(Topic branch)'를 만들 수 있다. 처음에는 보통 통합 브랜치에서 토픽 브랜치를 만들어 낸다.  

일반적으로 저장소를 처음 만들었을 때에 생기는 'master' 브랜치를 통합 브랜치로 사용한다.  

### 토픽 브랜치(Topic Branch)  
토픽 브랜치란, 기능 추가나 버그 수정과 같은 단위 작업을 위한 브랜치.  
여러 개의 작업을 동시에 진행할 때에는, 그 수만큼 토픽 브랜치를 생성할 수 있다.  

토픽 브랜치는 보통 통합 브랜치로부터 만들어 내며, 토픽 브랜치에서 특정 작업이 완료되면 다시 통합 브랜치에 병합하는 방식으로 진행된다.   
이러한 토픽 브랜치는 '피처 브랜치(Feature branch)' 라고 부르기도 한다.  


참고 : https://backlog.com/git-tutorial/kr/stepup/stepup1_1.html


### 브랜치 전환하기
Git 에서는 항상 작업할 브랜치를 미리 선택해야 한다.  
처음에 Git을 설치하게 되면 'master' 브랜치가 선택되어 있다.  
현재 선택된 브랜치가 아닌 다른 브랜치에서 작업하고 싶을 때에는,  
'체크아웃(checkout)' 명령어를 실행하여 원하는 브랜치로 전환할 수 있다.  
체크아웃을 실행하면, 우선 브랜치 안에 있는 마지막 커밋 내용이 작업 트리에 펼쳐진다.   
브랜치가 전환 되었으므로 이 후에 실행한 커밋은 전환한 브랜치에 추가됩니다.  

### HEAD
'HEAD' 란 현재 사용 중인 브랜치의 선두 부분을 나타내는 이름.   
기본적으로는 'master'의 선두 부분을 나타냅니다. 'HEAD' 를 이동하면, 사용하는 브랜치가 변경된다.  



### 커밋을 지정할 때  
'~(틸드, 물결기호)'와 '^(캐럿, 삽입기호)'을 사용하여 현재 커밋으로부터 특정 커밋의 위치를 가리킬 수 있다.  
이 때 자주 사용하는 것이 'HEAD' 로서, '~(틸드)'와 숫자를 'HEAD' 뒤에 붙여 몇 세대 앞의 커밋을 가리킬 수 있다.  
'^(캐럿)'은, 브랜치 병합에서 원본이 여럿 있는 경우 몇 번째 원본인지를 지정할 수 있다.  

### stash
커밋하지 않은 변경 내용이나 새롭게 추가한 파일이 인덱스와 작업 트리에 남아 있는 채로 다른 브랜치로 전환(checkout)하면,   
그 변경 내용은 기존 브랜치가 아닌 전환된 브랜치에서 커밋할 수 있다.  

단, 커밋 가능한 변경 내용 중에 전환된 브랜치에서도 한 차례 변경이 되어 있는 경우에는 체크아웃에 실패할 수 있다.  
이 경우 이전 브랜치에서 커밋하지 않은 변경 내용을 커밋하거나, stash 를 이용해 일시적으로 변경 내용을 다른 곳에 저장하여 충돌을 피하게 한 뒤 체크아웃을 해야 한다.  

stash 란, 파일의 변경 내용을 일시적으로 기록해두는 영역.  
stash 를 사용하여 작업 트리와 인덱스 내에서 아직 커밋하지 않은 변경을 일시적으로 저장해 둘 수 있다.  
이 stash 에 저장된 변경 내용은 나중에 다시 불러와 원래의 브랜치나 다른 브랜치에 커밋할 수 있다.  
